## å›ºä»¶è¯´æ˜

### æ”¯æŒçš„è®¾å¤‡åˆ—è¡¨

lede ä»“åº“å› ä¸ºæŸäº›åŸå› ï¼Œä¼šåˆ æ‰æŸäº› rockchip è®¾å¤‡çš„æ”¯æŒï¼Œè¿™ç§æƒ…å†µè¯·ä½¿ç”¨ éª·é«…å¤´çš„ç‰ˆæœ¬(DHDAXCW) ï¼Œop ç›®å‰åªæœ‰å®˜æ–¹çš„ openwrt-21.02 åˆ†æ”¯çœ‹æ˜¯èƒ½ç”¨çš„åœ°æ­¥ï¼Œimmortalwrt(å¤©çµ) çš„ç¼–è¯‘çš„è¯æ’ä»¶å¾ˆå¤šï¼Œæœ€å¥½ action æœºå™¨é¢‘ç‡è¦ 2700 ä»¥ä¸Š

|  è®¾å¤‡(ğŸ‘‡ç‚¹å‡»ä¸‹è½½)   | æ”¯æŒçš„ æºç -åˆ†æ”¯ åˆ—è¡¨  | å¯è„šæœ¬åœ¨çº¿å‡çº§ | slimæœ¬åœ°æº |  å¤‡æ³¨ |
|  ------ | ------------------  | -------  |----  | ----  |
| [x86_64](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/x86_64)  | [lede](https://github.com/coolsnowwolf/lede)ã€[op](https://github.com/openwrt/openwrt/tree/openwrt-21.02) | âœ” | âœ” | å¼€å¯äº†å¾ˆå¤šæ— çº¿å’Œæ¿è½½é©±åŠ¨ |
| [r2s](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/r2s)  | [lede](https://github.com/coolsnowwolf/lede)ã€[op](https://github.com/openwrt/openwrt/tree/openwrt-21.02)ã€[DHDAXCW](https://github.com/DHDAXCW/lede-rockchip/tree/stable)ã€[immortalwrt](https://github.com/immortalwrt/immortalwrt/tree/openwrt-21.02) | âœ” | âœ” | éª·é«…å¤´ DHDAXCW æ”¯æŒusb wifi ä¸æ­»æœº | 
| [r4s/r4se](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/r4s)  | [lede](https://github.com/coolsnowwolf/lede)ã€[DHDAXCW](https://github.com/DHDAXCW/lede-rockchip/tree/stable)ã€[immortalwrt](https://github.com/immortalwrt/immortalwrt/tree/openwrt-18.06-k5.4) | âœ” | âœ” | op çš„ 21.02 targetä¼šå˜æˆr2sï¼Œå–œæ¬¢opçš„ç”¨å¤©çµçš„å°±è¡Œäº†ï¼Œr4seç”¨ledeå’Œéª·é«…å¤´æºç ç¼–è¯‘çš„ï¼Œéª·é«…å¤´çš„ç¼–è¯‘å¼€å¯äº†gpuæ”¯æŒ |
| [r5s](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/r5s)  | [lede](https://github.com/coolsnowwolf/lede) | âœ” | âœ” | åˆ·æœºç±»ä¼¼ doornet2ï¼Œ[æ•™ç¨‹](https://github.com/DHDAXCW/DoorNet2/blob/main/emmc.md) |
| [h68k](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/h68k)  | [lede](https://github.com/coolsnowwolf/lede)ã€[DHDAXCW/lede](https://github.com/DHDAXCW/lede) | âœ” | âœ” | ledeçš„h68kå…¼å®¹æ‰€æœ‰å‹å·([éœ€æ¸…emcc](https://github.com/coolsnowwolf/lede/issues/10286))ï¼Œéª·é«…å¤´çš„æš‚æ—¶åªæœ‰h68k-aã€h68k-c |
| [RaspberryPi3](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/RaspberryPi3)| [immortalwrt](https://github.com/immortalwrt/immortalwrt/tree/openwrt-18.06-k5.4) | âœ” | âœ” |  | 
| [RaspberryPi4](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/RaspberryPi4)| [immortalwrt](https://github.com/immortalwrt/immortalwrt/tree/openwrt-18.06-k5.4) | âœ” | âœ” |  | 
| [r1s-h3](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/r1s-h3)  | [lede](https://github.com/coolsnowwolf/lede) | âœ” | âœ” | æš‚æ—¶æ²¡æ·»åŠ å…¶ä»–æºç ï¼Œsdå¡å¯ä»¥ï¼Œemccåˆ·å…¥æ— æ³•å¯åŠ¨ï¼Œä¸æ˜¯æˆ‘çš„é”… | 
| [r1s-h5](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/r1s-h5)  | [immortalwrt](https://github.com/immortalwrt/immortalwrt/tree/openwrt-18.06-k5.4) | X | âœ” | å†…å­˜ 500Mï¼Œæ— æ³•åœ¨çº¿å‡çº§æ‰©å®¹ | 
| [doornet2](https://github.com/zhangguanzhang/Actions-OpenWrt/releases/tag/doornet2)  | [lede](https://github.com/coolsnowwolf/lede)ã€[DHDAXCW](https://github.com/DHDAXCW/lede-rockchip/tree/doornet2) | âœ” | âœ” | 2022/09/01 lede ä»“åº“åˆ æ‰ doornet2æ”¯æŒï¼Œåç»­è¯·ä½¿ç”¨éª·é«…å¤´ç‰ˆæœ¬ |
| N1  | [lede](https://github.com/coolsnowwolf/lede) |  x | x | æš‚æ—¶æ²¡ç©ºé€‚é…åœ¨çº¿å‡çº§å’Œslim | 
| k2p  | [lede](https://github.com/coolsnowwolf/lede) |  x | x | æš‚æ—¶æ²¡ç©ºé€‚é…åœ¨çº¿å‡çº§å’Œslim | 
| sft1200  | [Siflower](https://github.com/Siflower/1806_SDK.git) |  x | x | æš‚æ—¶æ²¡ç©ºé€‚é…åœ¨çº¿å‡çº§å’Œslim | 


æ¨èä½¿ç”¨ `slim-squashfs` æœ¬åœ°æºçš„ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨è‡ªè¡Œ release ä¸‹è½½ï¼Œæˆ–è€…ç‚¹å‡»ä¸Šé¢çš„ `è®¾å¤‡` æ ç›®ä¸‹çš„è®¾å¤‡è·³è½¬è¿‡å»ï¼š

```
ä¸‹è½½æ…¢å¯ä»¥ä¸‹é¢çš„ gh ä»£ç†
# https://github.cooluc.com/
```

### åœ¨çº¿å‡çº§

åœ¨çº¿å‡çº§çš„è¦æ±‚ï¼šå†…å­˜å¤§äºç­‰äº 1Gï¼Œå®¹é‡å¤§äºç­‰äº 3Gï¼Œå‡çº§æ­¥éª¤ä¸ºä¸‹ï¼š

1. tf å¡æ¨èä½¿ç”¨è½¯ä»¶ `balenaEtcher-Portable` ï¼Œå‹ç¼©åŒ…é‡Œæ˜¯ img çš„è¯ä¼šè‡ªåŠ¨è§£å‹åˆ·å…¥ï¼Œ`x86_64` åœ¨å¯¼å…¥æˆç¡¬ç›˜åï¼Œç»™ç¡¬ç›˜æ‰©å®¹ï¼Œä¾‹å¦‚æ·»åŠ æœ€å°‘ 2G å®¹é‡ï¼Œvmdk æ ¼å¼å¿…é¡»æ·»åŠ ä¸ºç¡¬ç›˜ä¹‹å‰ä½¿ç”¨ç±»ä¼¼ vmware-diskmanager ä¹‹ç±»çš„å¢åŠ å®¹é‡
2. é…ç½®å¥½ wan å£ï¼ˆæ¥ä¸Šçº§è·¯ç”±åš dhcp å®¢æˆ·ç«¯è¿˜æ˜¯ ppoe æ‹¨å·éƒ½è¡Œï¼‰æˆ–è€…ä½ çš„ x86_64 å•ç½‘å£ï¼Œç¡®ä¿è·¯ç”±å™¨èƒ½ä¸Šç½‘
3. ç”µè„‘(ä¸è¦ttydä¸Šå‡çº§) ssh ä¸Šå»æ‰§è¡Œ `bash -x /update.sh` ï¼Œå¦‚æœå‡çº§å¤±è´¥ï¼Œè¯·æ issue è´´æ—¥å¿—ï¼Œarm64 ä¹‹ç±»çš„å‡çº§æ­»æœºçš„è¯å¯ä»¥è¯•è¯•å‡çº§è¿‡ç¨‹ç‰©ç†é™æ¸©ã€‚
4. é»˜è®¤å¯†ç å‡ä¸º `password` ï¼Œè·¯ç”±å™¨ ip ä½ å¯ä»¥ç”µè„‘æ¥å®ƒçš„ lan åçœ‹ç½‘å…³ IP
5. åˆæ¬¡å‡çº§çš„åŒæ—¶ä¼šæ‰©å®¹ï¼Œ**æ‰©å®¹å®Œåªæœ‰ä¸¤ä¸ªåˆ†åŒºï¼Œå‰©ä½™ç©ºé—´æ‰€æœ‰ç›®å½•å‡å¯äº«ç”¨**ï¼Œå‡çº§å®Œåè¿ä¸Šå»ï¼Œå¯ä»¥è‡ªè¡Œå®‰è£…æƒ³è¦çš„è½¯ä»¶æºï¼Œä¾‹å¦‚ä¸‹é¢
   1. `opkg update`
   2. `opkg install luci-i18n-dockerman-zh-cn` æœ‰ `i18n-$pkg_name` çš„å°±ä¼˜å…ˆå®‰è£…å®ƒï¼Œç„¶ååˆ·æ–° web å°±èƒ½çœ‹åˆ°æ–°æœåŠ¡äº†
6. æ¨èä½¿ç”¨ `squashfs` æ ¼å¼å›ºä»¶ï¼Œå› ä¸º `ext4` æ ¼å¼çš„æ–­ç”µå…³æœºä¼šæœ‰å‡ ç‡å¼€æœºå˜æˆæ ¹åˆ†åŒºåªè¯»ï¼Œæˆ‘çš„ r2s å’Œå…¶ä»–äººéƒ½é‡åˆ°è¿‡ã€‚å¦‚æœä½ ä½¿ç”¨ `squashfs` æ ¼å¼å‡ºç° `I/O Error` è¯·ä½¿ç”¨ `diskgenius` ä¹‹ç±»æ‰«æçœ‹çœ‹å­˜åœ¨åé“å¦ã€‚
7. å¯åœ¨çº¿å‡çº§å’Œå¤šæºç çš„éƒ½æ˜¯æ”¯æŒåˆ‡ç‰ˆæœ¬ï¼Œä¾‹å¦‚å½“å‰æ˜¯ lede-master çš„ r2s æƒ³åˆ‡åˆ° DHDAXCW çš„ stable:
   1. `SKIP_BACK=1 REPO=DHDAXCW IM_BRANCH=stable bash -x /update.sh`
   2. æ³¨æ„è¿™æ ·åˆ‡æ¢ç½‘å¡é…ç½®ä¼šå¸¦è¿‡å»åï¼Œå¯èƒ½webç½‘ç»œé‚£é‡Œæ˜¾ç¤ºæœ‰é—®é¢˜ï¼Œé‡åˆ°åå¯ä»¥è‡ªè¡Œåˆ æ‰ç½‘å¡é…ç½® `/etc/config/network` é‡å¯ï¼Œç„¶åæ¥ lan åè®¿é—® web å‚ç…§ `/etc/config/network.bak` é…ç½®ä¹‹å‰çš„ç½‘ç»œä¿¡æ¯é‡æ–°é…ç½®ç½‘ç»œ

## ci æ¶‰åŠ

1. åˆ›å»º img æ–‡ä»¶ï¼ŒæŒ‚è½½ä½¿ç”¨ zstd æˆç›®å½•ï¼Œæ•´ä¸ªæºç ç›®å½•éƒ½ä¼šè¢« zstd å‹ç¼©
2. ç„¶åä½¿ç”¨ gh cli ç™»å½•å’Œä¸Šä¼  split æ–‡ä»¶ï¼Œåç»­ä¸‹è½½åˆå¹¶åè§£å‹å† mount img æˆç›®å½•ï¼Œå°±æ˜¯ç¼“å­˜äº†ä¹‹å‰çš„æ„å»ºç»“æœäº†
3. forkçš„è¯ï¼Œæƒ³ç”¨æˆ‘ä¸€æ ·çš„ cache å’Œ slim æ„å»ºå¿…é¡»é˜¿é‡Œäº‘é•œåƒä»“åº“ç›¸å…³tokenï¼Œç„¶å gh cli çš„tokenè®¾ç½®
4. è²Œä¼¼ä¸€ä¸ª target å¯ä»¥ç¼–è¯‘å‡ºå¤šä¸ªï¼Œå¯èƒ½åç»­éœ€è¦å…¼å®¹ä¸‹ï¼Œä¾‹å¦‚ r4s å’Œ r4se

## åˆ†éš”

ä¸‹é¢çš„å†…å®¹æ˜¯ç¬”è®°ï¼Œæ²¡æ•´ç†ï¼Œä¸è¦ç…§æŠ„æ‰§è¡Œ

## æ„å»º

æœºå™¨æœ€å¥½ 100G ä»¥ä¸Š

```
docker pull openwrtorg/sdk:x86_64-openwrt-21.02


git clone https://github.com/coolsnowwolf/lede.git --depth 1
cd lede

docker run --name openwrt --rm -tid -v $PWD:/home/build/openwrt openwrtorg/sdk:x86_64-openwrt-21.02

docker exec -ti openwrt bash

echo "src-git small https://github.com/kenzok8/small" >> feeds.conf.default
echo "src-git others https://github.com/kenzok8/openwrt-packages" >> feeds.conf.default



./scripts/feeds update -a

./scripts/feeds install -a

rm -rf feeds/small/ipt2socks
rm -rf feeds/small/pdnsd-alt
rm -rf package/lean/kcptun
rm -rf package/lean/trojan
rm -rf feeds/small/v2ray-plugin

make defconfig
./scripts/diffconfig.sh > seed.config
```

```
# CONFIG_TARGET_IMAGES_GZIP is not set
```

```
CONFIG_TARGET_IMAGES_GZIP=y

CONFIG_TARGET_ROOTFS_PARTSIZE=2048
```

```
Target System (x86)  --->   ç›®æ ‡ç³»ç»Ÿï¼ˆx86ï¼‰
Subtarget (x86_64)  --->   å­ç›®æ ‡ï¼ˆx86_64ï¼‰
Target Profile (Generic)  --->ç›®æ ‡é…ç½®æ–‡ä»¶ï¼ˆé€šç”¨ï¼‰
Target Images  ---> ä¿å­˜ç›®æ ‡é•œåƒçš„æ ¼å¼
Global build settings  --->      å…¨å±€æ„å»ºè®¾ç½®
Advanced configuration options (for developers)  ---- é«˜çº§é…ç½®é€‰é¡¹ï¼ˆé€‚ç”¨äºå¼€å‘äººå‘˜ï¼‰
Build the OpenWrt Image Builder æ„å»ºOpenWrtå›¾åƒç”Ÿæˆå™¨
Build the OpenWrt SDKæ„å»ºOpenWrt SDK
Package the OpenWrt-based Toolchainæ‰“åŒ…åŸºäºOpenWrtçš„å·¥å…·é“¾
Image configuration  ---> å›¾åƒé…ç½®
Base system  --->     åŸºæœ¬ç³»ç»Ÿ
Administration  --->     ç®¡ç†
Boot Loaders  --->å¼•å¯¼åŠ è½½ç¨‹åº
Development  --->   å¼€å‘
Extra packages  --->  é¢å¤–åŒ…
Firmware  --->å›ºä»¶
Fonts  --->å­—ä½“
Kernel modules  --->  å†…æ ¸æ¨¡å—
Languages  --->è¯­è¨€
Libraries  --->  åº“
LuCI  --->      LuCI
Mail  --->é‚®ä»¶
Multimedia  --->å¤šåª’ä½“
Network  --->ç½‘ç»œ
Sound  ---> å£°éŸ³
Utilities  --->å®ç”¨ç¨‹åº
Xorg  --->Xorg
```

æ–‡ä»¶æ ¼å¼åŒºåˆ«
1ï¼šå›ºä»¶æ–‡ä»¶åä¸­å¸¦æœ‰ ext4 å­—æ ·çš„æ–‡ä»¶ä¸ºæ­è½½ ext4 æ–‡ä»¶ç³»ç»Ÿå›ºä»¶ï¼Œext4 æ ¼å¼çš„å›ºä»¶æ›´é€‚åˆç†Ÿæ‚‰ Linux ç³»ç»Ÿçš„ç”¨æˆ·ä½¿ç”¨ï¼Œåœ¨ Linux ä¸‹å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°è°ƒæ•´ ext4 åˆ†åŒºçš„å¤§å°ï¼›

2ï¼šå›ºä»¶æ–‡ä»¶åä¸­å¸¦æœ‰ squashfs å­—æ ·çš„æ–‡ä»¶ä¸ºæ­è½½ squashfs æ–‡ä»¶ç³»ç»Ÿå›ºä»¶ï¼Œè€Œ squashfs æ ¼å¼çš„å›ºä»¶é€‚ç”¨äº â€œä¸æŠ˜è…¾â€ çš„ç”¨æˆ·ï¼Œå…¶ä¼˜ç‚¹æ˜¯å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°è¿›è¡Œç³»ç»Ÿè¿˜åŸï¼Œå“ªæ€•ä½ ä¸€ä¸å°å¿ƒç©åå›ºä»¶ï¼Œåªè¦è¿˜èƒ½è¿›å…¥æ§åˆ¶é¢æ¿æˆ– SSHï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œ â€œç³»ç»Ÿè¿˜åŸæ“ä½œâ€ã€‚

3ï¼šå›ºä»¶æ–‡ä»¶åä¸­å¸¦æœ‰ sysupgrade å­—æ ·çš„æ–‡ä»¶ä¸ºå‡çº§ OpenWrt æ‰€ç”¨çš„å›ºä»¶ï¼Œæ— éœ€è§£å‹ gz æ–‡ä»¶ï¼Œå¯ç›´æ¥åœ¨ Luci é¢æ¿ä¸­å‡çº§ã€‚

4ï¼šrootfsçš„é•œåƒï¼Œä¸å¸¦å¼•å¯¼ï¼Œå¯è‡ªè¡Œå®šä¹‰ç”¨ grub æˆ–è€… syslinux æ¥å¼•å¯¼ï¼Œå­˜å‚¨åŒºä¸º ext4ã€‚ï¼ˆå°ç™½ä¸å»ºè®®ï¼‰

1ï¼šconfig.buildinfoOpenWrt --------------------------------------------------------------------------------ç¼–è¯‘é…ç½®æ–‡ä»¶

2ï¼šopenwrt-rockchip-armv8-friendlyarm_nanopi-r2s-ext4-sysupgrade.img.gz--------------------------Ext4 æ ¼å¼å›ºä»¶

3ï¼šopenwrt-rockchip-armv8-friendlyarm_nanopi-r2s-rootfs.tar.gz---------------------------------------RootFS æ–‡ä»¶

4ï¼šopenwrt-rockchip-armv8-friendlyarm_nanopi-r2s-squashfs-sysupgrade.img.gz---------------------Squashfs æ ¼å¼å›ºä»¶

5ï¼šopenwrt-rockchip-armv8-friendlyarm_nanopi-r2s.manifest------------------------------------------ å›ºä»¶å†…å·²é›†æˆè½¯ä»¶åŒ…åˆ—è¡¨

6ï¼špackages-server.zip-------------------------------------------------------------------------------------IPK è½¯ä»¶åŒ…å½’æ¡£

7ï¼šsha256sums--------------------------------------------------------------------------------------------------------å›ºä»¶å®Œæ•´æ€§æ ¡éªŒæ–‡ä»¶

8ï¼šSource code.zip-----------------------------------------------------------------------------------------æºä»£ç .zip

9ï¼šSource code(tar.gz)-------------------------------------------------------------------------------------æºä»£ç .tar.gz

https://www.right.com.cn/forum/thread-3682029-1-1.html

## å‚è€ƒ
- https://mlapp.cn/1009.html
- https://www.v2rayssr.com/openwrtimg.html/comment-page-1
- https://mianao.info/2020/05/05/%E7%BC%96%E8%AF%91%E6%9B%B4%E6%96%B0OpenWrt-PassWall%E5%92%8CSSR-plus%E6%8F%92%E4%BB%B6
- [æ„å»ºä¸€ä¸ª op çš„åŒ…çš„æ—¶å€™ Makefile å¦‚ä½•ç¼–å†™å’Œè®²è§£](https://blog.51cto.com/u_15346415/3694615)
- [Makefile æ¡†æ¶åˆ†æ](https://www.cnblogs.com/happygirl-zjj/p/6008239.html)

## ç¼“å­˜å’Œé¿å…åŒ…çš„é‡å¤ç¼–è¯‘

ç¼“å­˜è§ cache.sh ã€‚ä¸»è¦æ˜¯åŒ…çš„é‡å¤ç¼–è¯‘å¦‚ä½•é¿å…ï¼Œå…ˆçœ‹å•ä¸ªåŒ… `./package/utils/lua` çš„ç¼–è¯‘æ­¥éª¤ï¼š

1. åœ¨ make æ—¶ï¼Œmake è¯»å–åˆ° `package/utils/lua/Makefile` æ–‡ä»¶å†…å®¹ï¼ŒåŒ…å«ç‰ˆæœ¬å’Œä¸‹è½½åœ°å€ã€‚
2. å¦‚æœ git æˆ– svn æºï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ tmp/dl/ ç›®å½•ä¸‹å°†æºä»£ç  clone ä¸‹æ¥ã€‚ç„¶åï¼Œå°† clone ä¸‹æ¥çš„æºç åˆ é™¤ .git æˆ– .svn ç›®å½•åˆ é™¤ï¼Œç„¶åå‹ç¼©æˆ `lua-x.x.x.tar.gz` æ–‡ä»¶ï¼Œå¹¶å¤åˆ¶åˆ° dl/ ç›®å½•ä¸‹ã€‚
3. åœ¨ç¼–è¯‘å‰æ®µï¼Œå°† dl/ ç›®å½•ä¸‹çš„ lua-x.x.x.tar.gz æ–‡ä»¶è§£å‹åˆ° `build_dir/target-<arch>/lua-x.x.x/` ç›®å½•ä¸‹ã€‚
4. è¿›å…¥ `build_dir/target-<arch>/lua-x.x.x/` æ‰§è¡Œ `./configure`ï¼Œ`make`ï¼Œ`make install`ã€‚
5. make install ä¼šå°†ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…åˆ° `build_dir/target-<arch>/lua-x.x.x/ipkg-<arch>/` ç›®å½•ä¸‹ã€‚
6. æœ€åå°† `build_dir/target-<arch>/lua-x.x.x/ipkg-<arch>/` æ‰“åŒ…æˆ `lua-x.x.x-1_<arch>.ipk`ï¼Œå¹¶å¤åˆ¶åˆ° `bin/<arch>/packages/base/` ã€‚

å¯ä»¥å¤§æ¦‚çœ‹çœ‹ https://github.com/openwrt/openwrt/blob/master/include/package-ipkg.mk ï¼Œå®é™…ä¸Š `build_dir/target-<arch>/lua-x.x.x/` ç›®å½•ä¸‹æœ‰ä¸€äº›éšè—æ–‡ä»¶ï¼Œ`.built`ã€`.built_check` å¯èƒ½æ˜¯å†æ¬¡ç¼–è¯‘çš„åˆ¤æ–­æ–‡ä»¶

## ä¸€äº›æŠ€å·§

dnsmasq å–æ¶ˆ `/etc/resolv.conf` é‡Œçš„ `nameserver ::1`

```
cat /etc/init.d/dnsmasq 
[ -e /proc/sys/net/ipv6 ] && DNS_SERVERS="$DNS_SERVERS ::1"

/etc/init.d/dnsmasq reload
```

https://www.youtube.com/watch?v=35ImdukpmyY


https://openwrt.org/zh/docs/guide-user/additional-software/imagebuilder


